<?xml version="1.0" encoding="utf-8"?>
<!-- Market.mxml -->
<s:NavigatorContent xmlns:fx="http://ns.adobe.com/mxml/2009" 
		xmlns:s="library://ns.adobe.com/flex/spark" 
		xmlns:mx="library://ns.adobe.com/flex/mx"
		height="100%" width="100%" 
		xmlns:component="component.*" 
		xmlns:components="com.aa.rpt.connectionbuilder.view.components.*" 
		xmlns:view="com.aa.rpt.apps.owr.view.*"
		label="Market"
		icon="{IconUtil.market}"
		creationComplete="setDepatureEndDate()">
	<fx:Script>
		<![CDATA[
			import com.aa.rpt.apps.owr.utils.IconUtil;
			
			import mx.events.ItemClickEvent;
			import mx.utils.StringUtil;
			
			import spark.events.TextOperationEvent;
			
			
			
			
			protected function setDepatureEndDate():void
			{
				
				var hours:Number= dep_strt_time.hours.value + 4;
				
				if(hours>=24)
				{
					var date:Date=new Date(dep_strt_time.date.selectedDate.fullYear,dep_strt_time.date.selectedDate.month,dep_strt_time.date.selectedDate.date+1,0,0);
					dep_end_time.date.selectedDate= date;
					
				}
				
				
				if(hours==24)
					dep_end_time.hours.value=0;

				
				if(hours>24)
					dep_end_time.hours.value= hours-24;
				
				else
					dep_end_time.hours.value=hours;
					
				
			}
			
			
			
			protected function milesRBG_itemClickHandler(event:ItemClickEvent):void
			{
				// TODO Auto-generated method stub
				if( event.index == 1 )
				{
					miles.visible = true;
					miles.includeInLayout = true;
					
					milesPercent.visible = false;
					milesPercent.includeInLayout = false;
				}
				else
				{
					miles.visible = false;
					miles.includeInLayout = false;
					
					milesPercent.visible = true;
					milesPercent.includeInLayout = true;
				}
			}
			
			protected function nextday_changeHandler(event:Event):void
			{
				// TODO Auto-generated method stub
				if(nextday.selected)
				{
					
				dep_end_time.enabled=false;
				twodays.enabled=false;
				}
				else
				{
					dep_end_time.enabled=true;
					twodays.enabled=true;
				}
				
			}
			
			protected function twodays_changeHandler(event:Event):void
			{
				// TODO Auto-generated method stub
				if(twodays.selected)
				{
					
					dep_end_time.enabled=false;
					nextday.enabled=false;
				}
				else
				{
					dep_end_time.enabled=true;
					nextday.enabled=true;
				}
			}

			
		]]>
	</fx:Script>
	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->

		<s:RadioButtonGroup id="milesRBG" itemClick="milesRBG_itemClickHandler(event)"/>
	</fx:Declarations>
	

	<s:layout>
		<s:VerticalLayout paddingBottom="5" paddingTop="5"/>
	</s:layout>
	
<s:Form  fontSize="14">
	
	<s:FormItem label="Desired Airlines:"
				textAlign="right">
		<s:HGroup width="100%">
			<s:CheckBox id="AACB" label="AA"/>
			<s:CheckBox id="BACB" label="BA"/>
			<s:CheckBox id="IBCB" label="IB"/>
			<s:CheckBox id="JLCB" label="JL"/>
			<s:CheckBox id="AYCB" label="AY"/>
			<s:CheckBox id="USCB" label="US"/>
		</s:HGroup>
	</s:FormItem>
	<s:HGroup>
		<s:Spacer width="16"/>
		
		<s:Label text="(No Selection Includes ALL)"
				 textAlign="right"
				 fontSize="12"
				 alignmentBaseline="ascent"/>
	</s:HGroup>
	
	<s:FormItem  label="Departing Station Code:"
				textAlign="right">
		<s:TextInput id="dep_sta"
					 text="DFW"
					 restrict="a-zA-Z"
					 maxChars="3"
					 widthInChars="3"
					 change="{dep_sta.text=dep_sta.text.toUpperCase()}"/>
	</s:FormItem>
	
	<s:FormItem  label="Arrival Station Code:"
				textAlign="right">
		<s:TextInput id="arr_sta"
					 text="LHR"
					 restrict="a-zA-Z"
					 maxChars="3"
					 widthInChars="3"
					 change="{arr_sta.text=arr_sta.text.toUpperCase()}"/>
	</s:FormItem>
	
	<s:VGroup gap="1">
	
		<s:FormItem label="Departure Start Date Time:"
					textAlign="right">
			<view:DateTime id="dep_strt_time"/>
			
		</s:FormItem>
		<s:HGroup>
			<s:Spacer width="10"/>
			
			<s:Label text="(local to departing station)"
					 textAlign="right"
					 fontSize="12"
					 alignmentBaseline="ascent"/>
		</s:HGroup>
	</s:VGroup>
		<s:VGroup>
			<s:FormItem label="Departure End Date Time:"
						textAlign="right">	
				
				<view:DateTime id="dep_end_time"/> 
			</s:FormItem>
			<s:HGroup>
				<s:Spacer width="10"/>
				
				<s:Label text="(local to departing station)"
						 textAlign="right"
						 fontSize="12"
						 alignmentBaseline="ascent"/>
				<s:Spacer width="20"/>
				<s:CheckBox id="nextday" label="NextDay" selected="false" change="nextday_changeHandler(event)"/>
				<s:CheckBox id="twodays" label="TwoDays" selected="false" change="twodays_changeHandler(event)"/>
			</s:HGroup>
			
			
		</s:VGroup>
		
		<s:FormItem label="MAX Connect Time(Hrs):"
					textAlign="right">
			<!--<s:TextInput id="max_con_time" text="4" maxWidth="30" restrict="0-9" maxChars="2"/>-->
			<s:HGroup gap="10" verticalAlign="middle">
				<s:Label text="Domestic:"/>
				<s:TextInput id="domconnect" widthInChars="3" text="4" restrict="0-9" maxChars="2"/>
				<s:Spacer width="10"/>
				<s:VGroup>
					<s:Spacer height="3"/>
					<s:Label text="International:"/>
					<s:Label text="(optional)" fontSize="11"/>
				</s:VGroup>
				<s:TextInput id="intconnect" widthInChars="3"  restrict="0-9" maxChars="2" />
			</s:HGroup>
		</s:FormItem>
		
		<s:FormItem label="Max Mileage:  "
					textAlign="right"
					>
			<s:HGroup>
				<s:RadioButton id="miles_in_percent"
							   groupName="milesRBG" 
							   label="Mileage Multiplier Factor"
							   selected="true"/>
				<s:TextInput id="milesPercent" 
							 restrict="0-9." 
							 maxChars="4"
							 text="1.33"
							 visible="true"
							 widthInChars="4"
							 toolTip="Enter the multiplication factor. For e.g. a multiplication factor of 2 would result in twice the mileage between origin-destination"/>
			</s:HGroup>
			
			<s:HGroup>	
				<s:RadioButton id="miles_in_num"
							   groupName="milesRBG"
							   label="In Mileage"
							   selected="false"/>
				<s:TextInput id="miles" 
							 restrict="0-9" 
							 maxChars="6"
							 visible="false"
							 includeInLayout="false"
							 toolTip="Enter the mileage you are willing to travel for your origin-destination."/>
			</s:HGroup>
		</s:FormItem>
		<s:FormItem label="Sister Cities:"
					textAlign="right">
			<s:CheckBox id="sistercitiescb"/>
			
		</s:FormItem>
		
		<s:FormItem label="Connections:"
					textAlign="right">
			
			<mx:HSlider id="leginfo" minimum="1" maximum="3" labels="['Direct','2Legs','3Legs']"
						tickInterval="1"
						snapInterval="1"/>
		</s:FormItem>
		
		<s:FormItem label="Avoid Stations(optional):"
					textAlign="right">
			<s:HGroup>
				<s:TextInput id="avoid_sta"
							 restrict="a-z, A-Z"
							 change="{avoid_sta.text=avoid_sta.text.toUpperCase()}"/>
				<mx:FormItemLabel text="Eg.ORD,STL"
								  textAlign="left"
								  fontWeight="normal"
								  fontSize="10"/>
								  
			</s:HGroup>
		</s:FormItem>
			
		<!--<s:FormItem label="Sort Results By:"
					textAlign="right">
			<s:RadioButton label="Least Time To Destination(Weighted Listing)"/>
			<s:RadioButton label="Number of Stops,Arrival-Time"/>
		</s:FormItem>
		-->
		<s:FormItem label="Suppress Availabilty:"
					textAlign="right">
			<s:CheckBox id="sup_av"/>
		</s:FormItem>
</s:Form>
	
		
</s:NavigatorContent>
	
